{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport * as Panelbear from \"@panelbear/panelbear-js\";\nimport { useRouter } from \"next/router\";\nimport { useEffect } from \"react\";\nexport var usePanelbear = function usePanelbear(site) {\n  _s();\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var router = useRouter();\n  useEffect(function () {\n    Panelbear.load(site, config); // Trigger initial page view\n\n    Panelbear.trackPageview(); // Add on route change handler for client-side navigation\n\n    var handleRouteChange = function handleRouteChange() {\n      return Panelbear.trackPageview();\n    };\n\n    router.events.on(\"routeChangeComplete\", handleRouteChange);\n    return function () {\n      router.events.off(\"routeChangeComplete\", handleRouteChange);\n    };\n  }, []);\n};\n\n_s(usePanelbear, \"vQduR7x+OPXj6PSmJyFnf+hU7bg=\", false, function () {\n  return [useRouter];\n});","map":{"version":3,"sources":["/Users/yaosamo/yaosamo.github.io/nextjs-blog/hooks/panelbear.js"],"names":["Panelbear","useRouter","useEffect","usePanelbear","site","config","router","load","trackPageview","handleRouteChange","events","on","off"],"mappings":";;AAAA,OAAO,KAAKA,SAAZ,MAA2B,yBAA3B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,SAAT,QAA0B,OAA1B;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAuB;AAAA;;AAAA,MAAhBC,MAAgB,uEAAP,EAAO;AACjD,MAAMC,MAAM,GAAGL,SAAS,EAAxB;AAEAC,EAAAA,SAAS,CAAC,YAAM;AACdF,IAAAA,SAAS,CAACO,IAAV,CAAeH,IAAf,EAAqBC,MAArB,EADc,CAGd;;AACAL,IAAAA,SAAS,CAACQ,aAAV,GAJc,CAMd;;AACA,QAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,aAAMT,SAAS,CAACQ,aAAV,EAAN;AAAA,KAA1B;;AACAF,IAAAA,MAAM,CAACI,MAAP,CAAcC,EAAd,CAAiB,qBAAjB,EAAwCF,iBAAxC;AAEA,WAAO,YAAM;AACXH,MAAAA,MAAM,CAACI,MAAP,CAAcE,GAAd,CAAkB,qBAAlB,EAAyCH,iBAAzC;AACD,KAFD;AAGD,GAbQ,EAaN,EAbM,CAAT;AAcD,CAjBM;;GAAMN,Y;UACIF,S","sourcesContent":["import * as Panelbear from \"@panelbear/panelbear-js\";\nimport { useRouter } from \"next/router\";\nimport { useEffect } from \"react\";\n\nexport const usePanelbear = (site, config = {}) => {\n  const router = useRouter();\n\n  useEffect(() => {\n    Panelbear.load(site, config);\n\n    // Trigger initial page view\n    Panelbear.trackPageview();\n\n    // Add on route change handler for client-side navigation\n    const handleRouteChange = () => Panelbear.trackPageview();\n    router.events.on(\"routeChangeComplete\", handleRouteChange);\n\n    return () => {\n      router.events.off(\"routeChangeComplete\", handleRouteChange);\n    };\n  }, []);\n};"]},"metadata":{},"sourceType":"module"}